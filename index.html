<!DOCTYPE html>
<html lang="en">
  <head>
    <meta charset="UTF-8" />
    <meta name="viewport" content="width=device-width, initial-scale=1.0" />
    <link rel="stylesheet" href="index.css" />
    <link rel="stylesheet" href="index.js" />
    <link
      rel="stylesheet"
      href="https://stackpath.bootstrapcdn.com/bootstrap/4.4.1/css/bootstrap.min.css"
      integrity="sha384-Vkoo8x4CGsO3+Hhxv8T/Q5PaXtkKtu6ug5TOeNV6gBiFeWPGFN9MuhOf23Q9Ifjh"
      crossorigin="anonymous"
    />
    <link
      href="//netdna.bootstrapcdn.com/font-awesome/6.0.0/css/font-awesome.css"
      rel="stylesheet"
    />
    <!-- fonts -->
    <link
      href="https://fonts.googleapis.com/css2?family=Montserrat:wght@700&display=swap"
      rel="stylesheet"
    />
    <link
      href="https://fonts.googleapis.com/css2?family=Hind+Vadodara&display=swap"
      rel="stylesheet"
    />
    <!-- Resources -->
    <script src="https://cdnjs.cloudflare.com/ajax/libs/Chart.js/2.4.0/Chart.min.js"></script>
    <script src="https://code.jquery.com/jquery-3.3.1.js"></script>
    <script
      src="https://cdnjs.cloudflare.com/ajax/libs/popper.js/1.11.0/umd/popper.js"
      crossorigin="anonymous"
    ></script>
    <script
      src="https://stackpath.bootstrapcdn.com/bootstrap/4.4.1/js/bootstrap.min.js"
      integrity="sha384-wfSDF2E50Y2D1uUdj0O3uMBJnjuUD4Ih7YwaYd1iqfktj0Uod8GCExl3Og8ifwB6"
      crossorigin="anonymous"
    ></script>
    <title>Mars Rover API</title>
  </head>
  <body>
    <h1 id="title">NASA ROVER API</h1>
    <div class="container-fluid">
      <div class="row">
        <div class="buttonForInfo col-md-5">
          <div id="roversForm">
            <h5>Give me a date</h5>
            <input id="date" type="date" />
            <button type="submit" onclick="getInfo()">See information</button>
          </div>
        </div>
        <div class="information col-md-6">
          <h1 id="info"></h1>
        </div>
      </div>
    </div>
    <script>
      function getInfo(response) {
        var date = document.getElementById("date").value;
        console.log(date);
        var exampleURL =
          "https://api.nasa.gov/mars-photos/api/v1/rovers/curiosity/photos?earth_date=" +
          date;
        console.log(exampleURL);

        var apiKey = "DNDuPeKj1oblbamo9d9uaTM61xjJV0veu74u8UiE";

        var request = new XMLHttpRequest();
        request.open("GET", exampleURL + "&api_key=" + apiKey, true);

        request.addEventListener("load", function () {
          if (request.status >= 200 && request.status < 400) {
            var response = JSON.parse(request.responseText);
            console.log(response);
          } else {
            console.log("Error in network request: " + request.statusText);
          }
        });
        request.send(null);

        var information = document.getElementById("info");
        information.innerHTML = response
      }
    </script>
  </body>
</html>
